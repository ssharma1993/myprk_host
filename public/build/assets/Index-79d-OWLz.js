import{c as Y,u as Z,j as t,a as ee,H as te}from"./app-aPoHFlou.js";import{A as se}from"./app-layout-kTgRhRJQ.js";import{u as le}from"./route-BgTQN6e2.js";/* empty css            */import"./app-logo-icon-BJyU3XK3.js";import"./index-BdxDOzv6.js";import"./index-Bcwyl3va.js";import"./index-rKHduuoP.js";function xe(W){const e=Y.c(71),{subscribers:n,stats:r}=W,a=le();let S;e[0]===Symbol.for("react.memo_cache_sentinel")?(S={subject:"",content:""},e[0]=S):S=e[0];const{data:l,setData:c,post:z,processing:D,errors:V,reset:B}=Z(S);let $;e[1]!==l.content||e[2]!==l.subject||e[3]!==a?($=()=>{const s=l.subject||"Newsletter Preview",i=l.content||"This is a preview of your newsletter message.",X=new URLSearchParams({subject:s,content:i});return`${a("newsletter.preview")}?${X.toString()}`},e[1]=l.content,e[2]=l.subject,e[3]=a,e[4]=$):$=e[4];const G=$;let k;e[5]!==z||e[6]!==B||e[7]!==a?(k=s=>{s.preventDefault(),z(a("newsletter.send"),{onSuccess:()=>B("subject","content")})},e[5]=z,e[6]=B,e[7]=a,e[8]=k):k=e[8];const J=k;let A;e[9]!==a?(A=s=>{confirm("Delete this subscriber?")&&ee.delete(a("newsletter.subscribers.destroy",s),{preserveScroll:!0})},e[9]=a,e[10]=A):A=e[10];const _=A;let E;e[11]===Symbol.for("react.memo_cache_sentinel")?(E=t.jsx(te,{title:"Newsletter"}),e[11]=E):E=e[11];let C;e[12]===Symbol.for("react.memo_cache_sentinel")?(C=[{title:"Newsletter"}],e[12]=C):C=e[12];let P;e[13]===Symbol.for("react.memo_cache_sentinel")?(P=t.jsx("p",{className:"text-sm text-gray-500",children:"Total"}),e[13]=P):P=e[13];let o;e[14]!==r.total?(o=t.jsxs("div",{className:"rounded-lg border border-gray-200 bg-white p-4",children:[P,t.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:r.total})]}),e[14]=r.total,e[15]=o):o=e[15];let R;e[16]===Symbol.for("react.memo_cache_sentinel")?(R=t.jsx("p",{className:"text-sm text-gray-500",children:"Active"}),e[16]=R):R=e[16];let d;e[17]!==r.active?(d=t.jsxs("div",{className:"rounded-lg border border-gray-200 bg-white p-4",children:[R,t.jsx("p",{className:"text-2xl font-semibold text-green-600",children:r.active})]}),e[17]=r.active,e[18]=d):d=e[18];let U;e[19]===Symbol.for("react.memo_cache_sentinel")?(U=t.jsx("p",{className:"text-sm text-gray-500",children:"Unsubscribed"}),e[19]=U):U=e[19];let m;e[20]!==r.inactive?(m=t.jsxs("div",{className:"rounded-lg border border-gray-200 bg-white p-4",children:[U,t.jsx("p",{className:"text-2xl font-semibold text-gray-600",children:r.inactive})]}),e[20]=r.inactive,e[21]=m):m=e[21];let x;e[22]!==d||e[23]!==m||e[24]!==o?(x=t.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[o,d,m]}),e[22]=d,e[23]=m,e[24]=o,e[25]=x):x=e[25];let q,L;e[26]===Symbol.for("react.memo_cache_sentinel")?(q=t.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Send Newsletter"}),L=t.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"This will send to all active subscribers."}),e[26]=q,e[27]=L):(q=e[26],L=e[27]);let T;e[28]===Symbol.for("react.memo_cache_sentinel")?(T=t.jsx("label",{className:"mb-2 block text-sm font-medium text-gray-900",children:"Subject"}),e[28]=T):T=e[28];const K=`w-full rounded-lg border px-4 py-2 outline-none focus:ring-2 focus:ring-blue-500 ${V.subject?"border-red-500 bg-red-50":"border-gray-300"}`;let b;e[29]!==c?(b=s=>c("subject",s.target.value),e[29]=c,e[30]=b):b=e[30];let u;e[31]!==l.subject||e[32]!==K||e[33]!==b?(u=t.jsxs("div",{children:[T,t.jsx("input",{className:K,value:l.subject,onChange:b,required:!0})]}),e[31]=l.subject,e[32]=K,e[33]=b,e[34]=u):u=e[34];let F;e[35]===Symbol.for("react.memo_cache_sentinel")?(F=t.jsx("label",{className:"mb-2 block text-sm font-medium text-gray-900",children:"Message"}),e[35]=F):F=e[35];const O=`w-full rounded-lg border px-4 py-2 outline-none focus:ring-2 focus:ring-blue-500 ${V.content?"border-red-500 bg-red-50":"border-gray-300"}`;let h;e[36]!==c?(h=s=>c("content",s.target.value),e[36]=c,e[37]=h):h=e[37];let f;e[38]!==l.content||e[39]!==O||e[40]!==h?(f=t.jsxs("div",{children:[F,t.jsx("textarea",{className:O,rows:6,value:l.content,onChange:h,required:!0})]}),e[38]=l.content,e[39]=O,e[40]=h,e[41]=f):f=e[41];const Q=D?"Sending...":"Send Email";let p;e[42]!==D||e[43]!==Q?(p=t.jsx("button",{type:"submit",className:"rounded-lg bg-blue-600 px-6 py-2 font-medium text-white transition hover:bg-blue-700 disabled:opacity-50",disabled:D,children:Q}),e[42]=D,e[43]=Q,e[44]=p):p=e[44];let g;e[45]!==G?(g=t.jsx("button",{type:"button",className:"rounded-lg border border-gray-300 bg-white px-6 py-2 font-medium text-gray-700 transition hover:bg-gray-50",onClick:()=>window.open(G(),"_blank","noopener,noreferrer"),children:"Preview Email"}),e[45]=G,e[46]=g):g=e[46];let j;e[47]!==p||e[48]!==g?(j=t.jsxs("div",{className:"flex flex-wrap gap-3",children:[p,g]}),e[47]=p,e[48]=g,e[49]=j):j=e[49];let y;e[50]!==J||e[51]!==u||e[52]!==f||e[53]!==j?(y=t.jsxs("div",{className:"rounded-lg border border-gray-200 bg-white p-6",children:[q,L,t.jsxs("form",{onSubmit:J,className:"mt-6 space-y-4",children:[u,f,j]})]}),e[50]=J,e[51]=u,e[52]=f,e[53]=j,e[54]=y):y=e[54];let H;e[55]===Symbol.for("react.memo_cache_sentinel")?(H=t.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Subscribers"}),e[55]=H):H=e[55];let I;e[56]===Symbol.for("react.memo_cache_sentinel")?(I=t.jsx("thead",{children:t.jsxs("tr",{className:"text-left",children:[t.jsx("th",{className:"px-3 py-2",children:"Email"}),t.jsx("th",{className:"px-3 py-2",children:"Status"}),t.jsx("th",{className:"px-3 py-2",children:"Subscribed"}),t.jsx("th",{className:"px-3 py-2",children:"Actions"})]})}),e[56]=I):I=e[56];let N;e[57]!==n.length?(N=n.length===0&&t.jsx("tr",{children:t.jsx("td",{colSpan:4,className:"px-3 py-6 text-center text-sm text-gray-500",children:"No subscribers yet"})}),e[57]=n.length,e[58]=N):N=e[58];let v;if(e[59]!==_||e[60]!==n){let s;e[62]!==_?(s=i=>t.jsxs("tr",{className:"border-t",children:[t.jsx("td",{className:"px-3 py-2",children:i.email}),t.jsx("td",{className:"px-3 py-2",children:t.jsx("span",{className:`rounded-full px-2 py-1 text-xs ${i.is_active?"bg-green-100 text-green-700":"bg-gray-100 text-gray-600"}`,children:i.is_active?"Active":"Unsubscribed"})}),t.jsx("td",{className:"px-3 py-2 text-gray-500",children:new Date(i.created_at).toLocaleDateString()}),t.jsx("td",{className:"px-3 py-2",children:t.jsx("button",{onClick:()=>_(i.id),className:"text-sm font-medium text-red-600 hover:text-red-700",children:"Delete"})})]},i.id),e[62]=_,e[63]=s):s=e[63],v=n.map(s),e[59]=_,e[60]=n,e[61]=v}else v=e[61];let w;e[64]!==N||e[65]!==v?(w=t.jsxs("div",{className:"rounded-lg border border-gray-200 bg-white p-6",children:[H,t.jsx("div",{className:"mt-4 overflow-x-auto",children:t.jsxs("table",{className:"w-full table-auto text-sm",children:[I,t.jsxs("tbody",{children:[N,v]})]})})]}),e[64]=N,e[65]=v,e[66]=w):w=e[66];let M;return e[67]!==x||e[68]!==y||e[69]!==w?(M=t.jsxs(t.Fragment,{children:[E,t.jsx(se,{breadcrumbs:C,children:t.jsxs("div",{className:"space-y-8",children:[x,y,w]})})]}),e[67]=x,e[68]=y,e[69]=w,e[70]=M):M=e[70],M}export{xe as default};
