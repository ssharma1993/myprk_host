import{r,j as e,H as F,d as o}from"./app-DpRc22vJ.js";import{A as O}from"./app-layout-DjwQA7tZ.js";/* empty css            */import"./app-logo-icon-FQWZ9qrA.js";import"./index-BwcwFRfU.js";import"./index-CXRjnO_N.js";import"./index-rKHduuoP.js";function P(){const[g,b]=r.useState([]),[c,l]=r.useState(""),[v,d]=r.useState(""),[f,m]=r.useState(""),[j,x]=r.useState(""),[N,p]=r.useState(""),[y,u]=r.useState("0"),[i,w]=r.useState(null),[S,a]=r.useState(null),h=async()=>{try{const t=(window.__INERTIA__?.page??window.page??null)?.props?.services??null;if(t){b(t);return}const n=await o.get("/services/list");b(n.data)}catch{}};r.useEffect(()=>{h()},[]);const C=()=>document.querySelector('meta[name="csrf-token"]')?.content,k=()=>{l(""),d(""),m(""),x(""),p(""),u("0"),w(null),a(null)},I=async s=>{if(s?.preventDefault?.(),a(null),!c.trim()){a("Name is required");return}try{const t={name:c,icon:v,slug:f,description:j,page_content:N,display_order:parseInt(y||"0",10)},n=C();if(!n)throw new Error("CSRF token not found");const E=i?`/services/${i}`:"/services";i?await o.put(E,t,{headers:{"X-CSRF-TOKEN":n}}):await o.post(E,t,{headers:{"X-CSRF-TOKEN":n}}),await h(),k()}catch(t){a(t.message||"Error saving service")}},A=s=>{w(s.id),l(s.name),d(s.icon??""),m(s.slug??""),x(s.description??""),p(s.page_content??""),u(String(s.display_order??"0"))},D=async s=>{if(confirm("Delete this service?"))try{const t=C();if(!t)throw new Error("CSRF token not found");await o.delete(`/services/${s}`,{headers:{"X-CSRF-TOKEN":t}}),await h()}catch(t){alert(t.message||"Error deleting")}};return e.jsxs(O,{breadcrumbs:[{title:"Services",href:"/services"}],children:[e.jsx(F,{title:"Services",children:e.jsx("link",{rel:"stylesheet",href:"/client/assets/vendors/visanet-icons/style.css"})}),e.jsxs("div",{className:"min-h-screen p-6",children:[e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsxs("div",{className:"rounded-lg border border-sidebar-border/70 p-6",children:[e.jsx("h2",{className:"mb-4 text-xl font-semibold",children:i?"Edit Service":"Add Service"}),e.jsxs("form",{onSubmit:I,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"mb-2 block text-sm font-medium",children:"Name"}),e.jsx("input",{className:"w-full rounded-lg border px-3 py-2",value:c,onChange:s=>l(s.target.value),required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"mb-2 block text-sm font-medium",children:"Icon Class"}),e.jsx("input",{className:"w-full rounded-lg border px-3 py-2",placeholder:"e.g., icon-family-visa",value:v,onChange:s=>d(s.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"mb-2 block text-sm font-medium",children:"Slug"}),e.jsx("input",{className:"w-full rounded-lg border px-3 py-2",placeholder:"e.g., family-visa",value:f,onChange:s=>m(s.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"mb-2 block text-sm font-medium",children:"Description (Short)"}),e.jsx("textarea",{className:"w-full rounded-lg border px-3 py-2",rows:3,value:j,onChange:s=>x(s.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"mb-2 block text-sm font-medium",children:"Page Content (Full Description)"}),e.jsx("textarea",{className:"w-full rounded-lg border px-3 py-2",rows:5,value:N,onChange:s=>p(s.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"mb-2 block text-sm font-medium",children:"Display Order"}),e.jsx("input",{type:"number",className:"w-full rounded-lg border px-3 py-2",value:y,onChange:s=>u(s.target.value)})]}),S&&e.jsx("div",{className:"text-sm text-red-600",children:S}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{className:"rounded bg-indigo-600 px-4 py-2 text-white",type:"submit",children:i?"Update":"Add"}),e.jsx("button",{type:"button",className:"rounded border px-4 py-2",onClick:k,children:"Cancel"})]})]})]}),e.jsxs("div",{className:"rounded-lg border border-sidebar-border/70 p-6",children:[e.jsx("h2",{className:"mb-4 text-xl font-semibold",children:"All Services"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full table-auto text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"text-left",children:[e.jsx("th",{className:"px-3 py-2",children:"Name"}),e.jsx("th",{className:"px-3 py-2",children:"Icon"}),e.jsx("th",{className:"px-3 py-2",children:"Slug"}),e.jsx("th",{className:"px-3 py-2",children:"Order"}),e.jsx("th",{className:"px-3 py-2",children:"Actions"})]})}),e.jsxs("tbody",{children:[g.length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:5,className:"px-3 py-6 text-center text-sm text-muted-foreground",children:"No services found"})}),g.map(s=>e.jsxs("tr",{className:"border-t",children:[e.jsx("td",{className:"max-w-xs truncate px-3 py-2 align-top",children:s.name}),e.jsx("td",{className:"px-3 py-2 align-top text-xs",children:s.icon}),e.jsx("td",{className:"px-3 py-2 align-top text-xs",children:s.slug}),e.jsx("td",{className:"px-3 py-2 align-top",children:s.display_order}),e.jsx("td",{className:"px-3 py-2 align-top",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>A(s),className:"rounded border px-3 py-1 text-sm",children:"Edit"}),e.jsx("button",{onClick:()=>D(s.id),className:"rounded bg-red-600 px-3 py-1 text-sm text-white",children:"Delete"})]})})]},s.id))]})]})})]})]}),e.jsxs("div",{className:"col-span-full rounded-lg border border-sidebar-border/70 p-6",children:[e.jsx("h2",{className:"mb-4 text-xl font-semibold",children:"Available Icons"}),e.jsx("p",{className:"mb-4 text-sm text-muted-foreground",children:'Use any of these icon classes in the "Icon Class" field above. The icons will display next to the service name.'}),e.jsx("div",{className:"grid grid-cols-2 gap-3 md:grid-cols-3 lg:grid-cols-5 xl:grid-cols-6",children:["icon-visa","icon-quote-2","icon-zoom-in","icon-play","icon-trolley-cart","icon-quote","icon-checked","icon-brainstorming","icon-passport","icon-comment-2","icon-arrow-bottom-2","icon-location-2","icon-email-2","icon-phone-call","icon-arrow-right-3","icon-arrow-left-2","icon-arrow-left","icon-arrow-right","icon-plus","icon-comment","icon-user","icon-search","icon-close","icon-grid","icon-arrow-right-up","icon-arrow-left-up","icon-arrow-bottom","icon-location","icon-email","icon-calendar","icon-arrow-right-2","icon-eye","icon-loop","icon-heart","icon-down-arrow","icon-up-arrow","icon-airplane","icon-airplane-2","icon-travel-visa","icon-students-visa","icon-family-visa","icon-business-visa","icon-visa-processing","icon-immigration-visa","icon-download","icon-pdf","icon-support","icon-luggage","icon-supportive","icon-immigration","icon-email-3","icon-paper-plane","icon-completed-task","icon-immigration-officer","icon-place","icon-satisfaction","icon-check"].map(s=>e.jsxs("div",{className:"hover:bg-sidebar-background/50 flex flex-col items-center gap-2 rounded-lg border p-3 transition-colors",children:[e.jsx("div",{className:"flex h-12 w-12 items-center justify-center text-2xl text-indigo-600",children:e.jsx("i",{className:s})}),e.jsx("span",{className:"text-center font-mono text-xs break-words text-muted-foreground",children:s})]},s))}),e.jsxs("p",{className:"mt-6 border-t pt-4 text-sm text-muted-foreground",children:[e.jsx("strong",{children:"Total Available Icons:"})," 57 icons ready to use."]})]})]})]})}export{P as default};
