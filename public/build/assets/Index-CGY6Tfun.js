import{c as z,r as k,j as t,L as _,a as I,H as R}from"./app-DpRc22vJ.js";import{A as B}from"./app-layout-DjwQA7tZ.js";import{u as E}from"./route-BgTQN6e2.js";/* empty css            */import"./app-logo-icon-FQWZ9qrA.js";import"./index-BwcwFRfU.js";import"./index-CXRjnO_N.js";import"./index-rKHduuoP.js";function P(L){const e=z.c(30),{galleries:M}=L,l=E(),[a,S]=k.useState(M),[g,h]=k.useState(null),[r,u]=k.useState(null);let p,f;e[0]===Symbol.for("react.memo_cache_sentinel")?(p=()=>{const s=sessionStorage.getItem("gallery_message");if(s){h(s),sessionStorage.removeItem("gallery_message");const C=setTimeout(()=>h(null),3e3);return()=>clearTimeout(C)}},f=[],e[0]=p,e[1]=f):(p=e[0],f=e[1]),k.useEffect(p,f);let j;e[2]!==a||e[3]!==l?(j=s=>{confirm("Are you sure you want to delete this image?")&&I.delete(l("gallery.destroy",s),{onSuccess:()=>{S(a.filter(C=>C.id!==s)),h("Image deleted successfully"),setTimeout(()=>h(null),3e3)}})},e[2]=a,e[3]=l,e[4]=j):j=e[4];const i=j;let b;e[5]===Symbol.for("react.memo_cache_sentinel")?(b=t.jsx(R,{title:"Gallery Management"}),e[5]=b):b=e[5];let y;e[6]===Symbol.for("react.memo_cache_sentinel")?(y=[{title:"Gallery"}],e[6]=y):y=e[6];let v;e[7]===Symbol.for("react.memo_cache_sentinel")?(v=t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Gallery Management"}),t.jsx("p",{className:"mt-1 text-gray-600",children:"Manage and organize your gallery images"})]}),e[7]=v):v=e[7];let n;e[8]!==l?(n=l("gallery.create"),e[8]=l,e[9]=n):n=e[9];let N;e[10]===Symbol.for("react.memo_cache_sentinel")?(N=t.jsx("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),e[10]=N):N=e[10];let o;e[11]!==n?(o=t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[v,t.jsxs(_,{href:n,className:"mt-4 inline-flex items-center gap-2 rounded-lg bg-blue-600 px-6 py-2 font-medium text-white transition hover:bg-blue-700 sm:mt-0",children:[N,"Upload Image"]})]}),e[11]=n,e[12]=o):o=e[12];let d;e[13]!==g?(d=g&&t.jsxs("div",{className:"flex items-start gap-3 rounded-lg border border-green-200 bg-green-50 p-4",children:[t.jsx("svg",{className:"mt-0.5 h-5 w-5 flex-shrink-0 text-green-600",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),t.jsx("div",{className:"flex-1",children:t.jsx("p",{className:"text-sm font-medium text-green-800",children:g})}),t.jsx("button",{onClick:()=>h(null),className:"text-green-600 hover:text-green-800",children:t.jsx("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),e[13]=g,e[14]=d):d=e[14];let c;e[15]!==i||e[16]!==a||e[17]!==l?(c=a.length>0?t.jsx("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3",children:a.map(s=>t.jsxs("div",{className:"overflow-hidden rounded-lg bg-white shadow-sm transition hover:shadow-lg",children:[t.jsxs("div",{className:"group relative h-48 cursor-pointer overflow-hidden bg-gray-100",onClick:()=>u(s),children:[t.jsx("img",{src:`/${s.image_path}`,alt:s.title,className:"h-full w-full object-cover transition duration-300 group-hover:scale-105"}),t.jsx("div",{className:"absolute inset-0 bg-black opacity-0 transition duration-300 group-hover:opacity-20"})]}),t.jsxs("div",{className:"space-y-3 p-4",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"truncate text-lg font-semibold text-gray-900",children:s.title}),s.description&&t.jsx("p",{className:"mt-1 line-clamp-2 text-sm text-gray-600",children:s.description})]}),t.jsx("div",{className:"flex items-center justify-between border-t border-gray-200 pt-2",children:t.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[t.jsx("svg",{className:"h-4 w-4",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{d:"M3 4a1 1 0 011-1h12a1 1 0 011 1v2a1 1 0 01-1 1H4a1 1 0 01-1-1V4z"})}),"Order: ",s.display_order]})})]}),t.jsxs("div",{className:"flex gap-2 bg-gray-50 px-4 py-3",children:[t.jsx(_,{href:l("gallery.edit",s.id),className:"flex-1 rounded bg-blue-50 px-3 py-2 text-center text-sm font-medium text-blue-600 transition hover:bg-blue-100",children:"Edit"}),t.jsx("button",{onClick:()=>i(s.id),className:"flex-1 rounded bg-red-50 px-3 py-2 text-sm font-medium text-red-600 transition hover:bg-red-100",children:"Delete"})]})]},s.id))}):t.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border-2 border-dashed border-gray-300 bg-gray-50 py-12",children:[t.jsx("svg",{className:"mb-4 h-16 w-16 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),t.jsx("h3",{className:"mb-1 text-lg font-medium text-gray-900",children:"No images yet"}),t.jsx("p",{className:"mb-6 text-gray-600",children:"Get started by uploading your first gallery image"}),t.jsx(_,{href:l("gallery.create"),className:"rounded-lg bg-blue-600 px-6 py-2 font-medium text-white transition hover:bg-blue-700",children:"Upload Image"})]}),e[15]=i,e[16]=a,e[17]=l,e[18]=c):c=e[18];let m;e[19]!==d||e[20]!==c||e[21]!==o?(m=t.jsxs("div",{className:"space-y-6",children:[o,d,c]}),e[19]=d,e[20]=c,e[21]=o,e[22]=m):m=e[22];let x;e[23]!==i||e[24]!==l||e[25]!==r?(x=r&&t.jsx("div",{className:"bg-opacity-75 fixed inset-0 z-50 flex items-center justify-center bg-black p-4",onClick:()=>u(null),children:t.jsxs("div",{className:"relative max-h-screen w-full max-w-4xl overflow-auto rounded-lg bg-white",onClick:G,children:[t.jsx("button",{onClick:()=>u(null),className:"absolute top-4 right-4 z-10 flex h-10 w-10 items-center justify-center rounded-full bg-white shadow-lg transition hover:bg-gray-100",children:t.jsx("svg",{className:"h-6 w-6 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),t.jsx("div",{className:"bg-gray-100 p-4",children:t.jsx("img",{src:`/${r.image_path}`,alt:r.title,className:"h-auto w-full"})}),t.jsxs("div",{className:"space-y-4 p-6",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:r.title}),r.description&&t.jsx("p",{className:"mt-2 text-gray-600",children:r.description})]}),t.jsx("div",{className:"border-t border-gray-200 pt-4",children:t.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-gray-500",children:"Display Order"}),t.jsx("p",{className:"font-medium text-gray-900",children:r.display_order})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-gray-500",children:"File Path"}),t.jsx("p",{className:"truncate font-mono text-xs text-gray-600",children:r.image_path})]})]})}),t.jsxs("div",{className:"flex gap-3 border-t border-gray-200 pt-4",children:[t.jsx(_,{href:l("gallery.edit",r.id),className:"flex-1 rounded bg-blue-600 px-4 py-2 text-center font-medium text-white transition hover:bg-blue-700",children:"Edit"}),t.jsx("button",{onClick:()=>{i(r.id),u(null)},className:"flex-1 rounded bg-red-600 px-4 py-2 font-medium text-white transition hover:bg-red-700",children:"Delete"})]})]})]})}),e[23]=i,e[24]=l,e[25]=r,e[26]=x):x=e[26];let w;return e[27]!==m||e[28]!==x?(w=t.jsxs(t.Fragment,{children:[b,t.jsxs(B,{breadcrumbs:y,children:[m,x]})]}),e[27]=m,e[28]=x,e[29]=w):w=e[29],w}function G(L){return L.stopPropagation()}export{P as default};
