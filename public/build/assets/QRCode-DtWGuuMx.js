import{r as d,j as e,H as w}from"./app-DpRc22vJ.js";/* empty css            */function v(){const[a,p]=d.useState(""),[o,f]=d.useState("png"),[c,b]=d.useState(null),[i,u]=d.useState(!1),[x,n]=d.useState(null),j=async()=>{if(!a.trim()){n("Please enter some text or URL");return}u(!0),n(null);try{const t=document.querySelector('meta[name="csrf-token"]')?.content;if(!t)throw new Error("CSRF token not found");const r=await fetch("/qrcode/generate",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":t},body:JSON.stringify({input:a,format:o})});if(!r.ok){const l=await r.json().catch(()=>({}));throw new Error(l.error||`Failed to generate QR code (${r.status})`)}const m=await r.json();b(m)}catch(t){n(t.message||"Error generating QR code")}finally{u(!1)}},y=async()=>{if(!a.trim()){n("Please enter some text or URL");return}try{const t=document.querySelector('meta[name="csrf-token"]')?.content;if(!t)throw new Error("CSRF token not found");const r=await fetch("/qrcode/download",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":t},body:JSON.stringify({input:a,format:o})});if(!r.ok){const h=r.headers.get("content-type");let g=`Failed to download QR code (${r.status})`;if(h&&h.includes("application/json"))try{g=(await r.json()).error||g}catch{}throw new Error(g)}const m=await r.blob(),l=window.URL.createObjectURL(m),s=document.createElement("a");s.href=l,s.download=`qrcode_${Date.now()}.${o==="jpeg"?"jpg":o}`,document.body.appendChild(s),s.click(),window.URL.revokeObjectURL(l),document.body.removeChild(s),n(null)}catch(t){n(t.message||"Error downloading QR code")}};return e.jsxs(e.Fragment,{children:[e.jsx(w,{title:"QR Code Generator"}),e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 px-4 py-12",children:e.jsx("div",{className:"mx-auto max-w-2xl",children:e.jsxs("div",{className:"rounded-lg bg-white p-8 shadow-lg",children:[e.jsx("h1",{className:"mb-2 text-4xl font-bold text-gray-900",children:"QR Code Generator"}),e.jsx("p",{className:"mb-8 text-gray-600",children:"Generate QR codes from text or URLs and download in multiple formats"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"input",className:"mb-2 block text-sm font-medium text-gray-700",children:"Text or URL"}),e.jsx("textarea",{id:"input",value:a,onChange:t=>p(t.target.value),placeholder:"Enter text, URL, or any content for the QR code...",className:"w-full resize-none rounded-lg border border-gray-300 px-4 py-3 focus:border-transparent focus:ring-2 focus:ring-indigo-500",rows:4})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"format",className:"mb-2 block text-sm font-medium text-gray-700",children:"Image Format"}),e.jsxs("select",{id:"format",value:o,onChange:t=>f(t.target.value),className:"w-full rounded-lg border border-gray-300 px-4 py-3 focus:border-transparent focus:ring-2 focus:ring-indigo-500",children:[e.jsx("option",{value:"png",children:"PNG"}),e.jsx("option",{value:"jpeg",children:"JPEG"}),e.jsx("option",{value:"svg",children:"SVG"}),e.jsx("option",{value:"webp",children:"WebP"})]})]}),x&&e.jsx("div",{className:"rounded-lg border border-red-200 bg-red-50 p-4",children:e.jsx("p",{className:"text-red-800",children:x})}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("button",{onClick:j,disabled:i,className:"flex-1 rounded-lg bg-indigo-600 px-6 py-3 font-medium text-white transition duration-200 hover:bg-indigo-700 disabled:bg-gray-400",children:i?"Generating...":"Generate QR Code"}),e.jsx("button",{onClick:y,disabled:!c||i,className:"flex-1 rounded-lg bg-green-600 px-6 py-3 font-medium text-white transition duration-200 hover:bg-green-700 disabled:bg-gray-400",children:"Download QR Code"})]}),c&&e.jsxs("div",{className:"mt-8 border-t border-gray-200 pt-8",children:[e.jsx("h2",{className:"mb-4 text-2xl font-bold text-gray-900",children:"Generated QR Code"}),e.jsx("div",{className:"flex justify-center rounded-lg bg-gray-50 p-8",children:e.jsx("img",{src:c.dataUri,alt:"Generated QR Code",className:"max-w-sm"})}),e.jsxs("p",{className:"mt-4 text-center text-sm text-gray-600",children:["Format:"," ",e.jsx("span",{className:"font-medium",children:o.toUpperCase()})]})]})]})]})})})]})}export{v as default};
